var $invoiceList=$("#sc-js-invoices-list"),$invoice=$("#sc-js-invoice");scutum.pages.invoices={},scutum.pages.invoices.init=function(){scutum.pages.invoices.search(),scutum.pages.invoices.renderInvoice();var e=scutum.helpers.isRTL()?"uk-margin-small-left":"uk-margin-small-right";UIkit.notification('<span class="md-color-red-400 mdi mdi-alert-outline '+e+'"></span> There are 3 unpaid invoices',{pos:scutum.helpers.mq.mediumMin()?scutum.helpers.isRTL()?"bottom-right":"bottom-left":"top-center"})},scutum.pages.invoices.search=function(){scutum.require(["listjs"],function(){new List("sc-js-invoices-list",{searchClass:"sc-js-list-search",listClass:"uk-list",valueNames:["sc-js-list-number","sc-js-list-company"]})})},scutum.pages.invoices.renderInvoice=function(){scutum.require(["handlebars","accounting"],function(){"undefined"!=typeof HandlebarsIntl&&HandlebarsIntl.registerWith(Handlebars),scutum.handlebars.getPartial("invoice-items").then(function(e){Handlebars.registerPartial("invoice-items",e)}),scutum.helpers.ajax("data/pages/invoices.json","GET","json").then(function(i){$("#sc-js-invoices-list, #sc-offcanvas").find("ul").on("click",">li",function(e){e.preventDefault();e=$(this);e.addClass("uk-active").siblings("li").removeClass("uk-active"),scutum.helpers.mq.mediumMax()&&UIkit.offcanvas(scutum.$offcanvas).hide(),scutum.helpers.preloader.overlayShow(!1,"#sc-js-invoice"),$invoice.find(".uk-card-body").length&&($invoice.find(".uk-card-body.sc-js-el-show").velocity("transition.slideDownBigOut",{delay:120,duration:240}),$invoice.find(".uk-card-title.sc-js-el-show").velocity("transition.fadeOut",{duration:240}));e=e.attr("data-invoice-id");e&&scutum.helpers.findObjectByKey(i,"id",e).then(function(e){var i,s;e&&(i=e.items,s=0,i.forEach(function(e){s+=parseFloat(e.total)}),setTimeout(function(){scutum.helpers.preloader.overlayHide()},700),setTimeout(function(){$invoice.one("render.handlebars",function(){$invoice.find(".uk-card-body.sc-js-el-show").velocity("transition.slideUpBigIn",{delay:120,duration:360}),$invoice.find(".uk-card-title.sc-js-el-show").velocity("transition.fadeIn",{duration:360}),scutum.helpers.hiResImagesProcess(),setTimeout(function(){UIkit.update()},300)}).hbRender("invoice",{invoice:e,total:parseFloat(s.toFixed(2))})},1e3))}).catch(function(e){throw console.log("There has been a error: "+e.message),e})})})},!1)};